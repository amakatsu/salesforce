<template>
  <lightning-card title="編集可能なテーブル">
    <lightning-button
      label="保存"
      slot="actions"
      onclick={handleSave}
    ></lightning-button>
    <lightning-button
      label="再取得"
      slot="actions"
      onclick={handleReset}
    ></lightning-button>
    <table class="slds-table slds-table_cell-buffer slds-table_bordered">
      <thead>
        <tr>
          <th>名前</th>
          <th>役職</th>
        </tr>
      </thead>
      <tbody>
        <template for:each={records} for:item="record">
          <tr key={record.id}>
            <td>
              <div class={record.nameClass}>
                <lightning-input
                  label="Name"
                  variant="label-hidden"
                  value={record.name}
                  data-id={record.id}
                  data-field="name"
                  onchange={handleChange}
                ></lightning-input>
              </div>
            </td>
            <td>
              <div class={record.titleClass}>
                <lightning-input
                  label="Title"
                  variant="label-hidden"
                  value={record.title}
                  data-id={record.id}
                  data-field="title"
                  onchange={handleChange}
                ></lightning-input>
              </div>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
  </lightning-card>
</template>
